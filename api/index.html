<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="GraphQL authentication for Django"><meta name=author content="nir benlulu"><link href=https://nrbnlulu.github.io/strawberry-django-auth/api/ rel=canonical><link href=../settings/ rel=prev><link href=../contributing/ rel=next><link rel=icon href=../images/logo.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.47"><title>API - Strawberry Django Auth</title><link rel=stylesheet href=../assets/stylesheets/main.6f8fc17f.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XYFSBNLH00"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XYFSBNLH00",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XYFSBNLH00",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#registermixin class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Strawberry Django Auth" class="md-header__button md-logo" aria-label="Strawberry Django Auth" data-md-component=logo> <img src=../images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Strawberry Django Auth </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=green aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nrbnlulu/strawberry-django-auth title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> nrbnlulu/strawberry-django-auth </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Strawberry Django Auth" class="md-nav__button md-logo" aria-label="Strawberry Django Auth" data-md-component=logo> <img src=../images/logo.png alt=logo> </a> Strawberry Django Auth </label> <div class=md-nav__source> <a href=https://github.com/nrbnlulu/strawberry-django-auth title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> nrbnlulu/strawberry-django-auth </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Start here </span> </a> </li> <li class=md-nav__item> <a href=../tutorial/ class=md-nav__link> <span class=md-ellipsis> Tutorial </span> </a> </li> <li class=md-nav__item> <a href=../directives.md class=md-nav__link> <span class=md-ellipsis> directives </span> </a> </li> <li class=md-nav__item> <a href=../overriding-email-templates/ class=md-nav__link> <span class=md-ellipsis> Overriding email templates </span> </a> </li> <li class=md-nav__item> <a href=../relay/ class=md-nav__link> <span class=md-ellipsis> Relay </span> </a> </li> <li class=md-nav__item> <a href=../captcha/ class=md-nav__link> <span class=md-ellipsis> Captcha </span> </a> </li> <li class=md-nav__item> <a href=../settings/ class=md-nav__link> <span class=md-ellipsis> Settings </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#registermixin class=md-nav__link> <span class=md-ellipsis> RegisterMixin </span> </a> </li> <li class=md-nav__item> <a href=#verifyaccountmixin class=md-nav__link> <span class=md-ellipsis> VerifyAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#resendactivationemailmixin class=md-nav__link> <span class=md-ellipsis> ResendActivationEmailMixin </span> </a> </li> <li class=md-nav__item> <a href=#sendpasswordresetemailmixin class=md-nav__link> <span class=md-ellipsis> SendPasswordResetEmailMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordresetmixin class=md-nav__link> <span class=md-ellipsis> PasswordResetMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordsetmixin class=md-nav__link> <span class=md-ellipsis> PasswordSetMixin </span> </a> </li> <li class=md-nav__item> <a href=#obtainjsonwebtokenmixin class=md-nav__link> <span class=md-ellipsis> ObtainJSONWebTokenMixin </span> </a> </li> <li class=md-nav__item> <a href=#archiveaccountmixin class=md-nav__link> <span class=md-ellipsis> ArchiveAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#deleteaccountmixin class=md-nav__link> <span class=md-ellipsis> DeleteAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordchangemixin class=md-nav__link> <span class=md-ellipsis> PasswordChangeMixin </span> </a> </li> <li class=md-nav__item> <a href=#updateaccountmixin class=md-nav__link> <span class=md-ellipsis> UpdateAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#verifytokenmixin class=md-nav__link> <span class=md-ellipsis> VerifyTokenMixin </span> </a> <nav class=md-nav aria-label=VerifyTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#checks-if-a-token-is-not-expired-and-correct class=md-nav__link> <span class=md-ellipsis> Checks if a token is not expired and correct. </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#refreshtokenmixin class=md-nav__link> <span class=md-ellipsis> RefreshTokenMixin </span> </a> <nav class=md-nav aria-label=RefreshTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#refreshtoken-to-generate-a-new-login-token class=md-nav__link> <span class=md-ellipsis> refreshToken to generate a new login token: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#revoketokenmixin class=md-nav__link> <span class=md-ellipsis> RevokeTokenMixin </span> </a> <nav class=md-nav aria-label=RevokeTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#suspends-a-refresh-token class=md-nav__link> <span class=md-ellipsis> Suspends a refresh token. </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../contributors/ class=md-nav__link> <span class=md-ellipsis> Contributors </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#registermixin class=md-nav__link> <span class=md-ellipsis> RegisterMixin </span> </a> </li> <li class=md-nav__item> <a href=#verifyaccountmixin class=md-nav__link> <span class=md-ellipsis> VerifyAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#resendactivationemailmixin class=md-nav__link> <span class=md-ellipsis> ResendActivationEmailMixin </span> </a> </li> <li class=md-nav__item> <a href=#sendpasswordresetemailmixin class=md-nav__link> <span class=md-ellipsis> SendPasswordResetEmailMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordresetmixin class=md-nav__link> <span class=md-ellipsis> PasswordResetMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordsetmixin class=md-nav__link> <span class=md-ellipsis> PasswordSetMixin </span> </a> </li> <li class=md-nav__item> <a href=#obtainjsonwebtokenmixin class=md-nav__link> <span class=md-ellipsis> ObtainJSONWebTokenMixin </span> </a> </li> <li class=md-nav__item> <a href=#archiveaccountmixin class=md-nav__link> <span class=md-ellipsis> ArchiveAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#deleteaccountmixin class=md-nav__link> <span class=md-ellipsis> DeleteAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#passwordchangemixin class=md-nav__link> <span class=md-ellipsis> PasswordChangeMixin </span> </a> </li> <li class=md-nav__item> <a href=#updateaccountmixin class=md-nav__link> <span class=md-ellipsis> UpdateAccountMixin </span> </a> </li> <li class=md-nav__item> <a href=#verifytokenmixin class=md-nav__link> <span class=md-ellipsis> VerifyTokenMixin </span> </a> <nav class=md-nav aria-label=VerifyTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#checks-if-a-token-is-not-expired-and-correct class=md-nav__link> <span class=md-ellipsis> Checks if a token is not expired and correct. </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#refreshtokenmixin class=md-nav__link> <span class=md-ellipsis> RefreshTokenMixin </span> </a> <nav class=md-nav aria-label=RefreshTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#refreshtoken-to-generate-a-new-login-token class=md-nav__link> <span class=md-ellipsis> refreshToken to generate a new login token: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#revoketokenmixin class=md-nav__link> <span class=md-ellipsis> RevokeTokenMixin </span> </a> <nav class=md-nav aria-label=RevokeTokenMixin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#suspends-a-refresh-token class=md-nav__link> <span class=md-ellipsis> Suspends a refresh token. </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>API</h1> <blockquote> <p>auto generated using <code>pydoc_markdown</code></p> </blockquote> <hr> <h2 id=registermixin>RegisterMixin<a class=headerlink href=#registermixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>RegisterMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Register user with fields defined in the settings. If the email field of the user model is part of the registration fields (default), check if there is no user with that email.</p> <p>If it exists, it does not register the user, even if the email field is not defined as unique (default of the default django user model).</p> <p>When creating the user, it also creates a <code>UserStatus</code> related to that user, making it possible to track if the user is archived / verified.</p> <p>Send account verification email.</p> <p>If allowed to not verified users login, return token.</p> </blockquote> <h2 id=verifyaccountmixin>VerifyAccountMixin<a class=headerlink href=#verifyaccountmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>VerifyAccountMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Verify user account.</p> <p>Receive the token that was sent by email. If the token is valid, make the user verified by making the <code>user.status.verified</code> field true.</p> </blockquote> <h2 id=resendactivationemailmixin>ResendActivationEmailMixin<a class=headerlink href=#resendactivationemailmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ResendActivationEmailMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Sends activation email.</p> <p>It is called resend because theoretically the first activation email was sent when the user registered.</p> <p>If there is no user with the requested email, a successful response is returned.</p> </blockquote> <h2 id=sendpasswordresetemailmixin>SendPasswordResetEmailMixin<a class=headerlink href=#sendpasswordresetemailmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>SendPasswordResetEmailMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Send password reset email.</p> <p>For non verified users, send an activation email instead.</p> <p>If there is no user with the requested email, a successful response is returned.</p> </blockquote> <h2 id=passwordresetmixin>PasswordResetMixin<a class=headerlink href=#passwordresetmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>PasswordResetMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Change user password without old password.</p> <p>Receive the token that was sent by email.</p> <p>If token and new passwords are valid, update user password and in case of using refresh tokens, revoke all of them.</p> <p>Also, if user has not been verified yet, verify it.</p> </blockquote> <h2 id=passwordsetmixin>PasswordSetMixin<a class=headerlink href=#passwordsetmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>PasswordSetMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Set user password - for password-less registration</p> <p>Receive the token that was sent by email.</p> <p>If token and new passwords are valid, set user password and in case of using refresh tokens, revoke all of them.</p> <p>Also, if user has not been verified yet, verify it.</p> </blockquote> <h2 id=obtainjsonwebtokenmixin>ObtainJSONWebTokenMixin<a class=headerlink href=#obtainjsonwebtokenmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ObtainJSONWebTokenMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Obtain JSON web token for given user.</p> <p>Allow to perform login with different fields, The fields are defined on settings.</p> <p>Not verified users can log in by default. This can be changes on settings.</p> <p>If user is archived, make it unarchived and return <code>unarchiving=True</code> on OutputBase.</p> </blockquote> <h2 id=archiveaccountmixin>ArchiveAccountMixin<a class=headerlink href=#archiveaccountmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>ArchiveAccountMixin</span><span class=p>(</span><span class=n>ArchiveOrDeleteMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Archive account and revoke refresh tokens.</p> <p>User must be verified and confirm password.</p> </blockquote> <h2 id=deleteaccountmixin>DeleteAccountMixin<a class=headerlink href=#deleteaccountmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>DeleteAccountMixin</span><span class=p>(</span><span class=n>ArchiveOrDeleteMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Delete account permanently or make <code>user.is_active=False</code>.</p> <p>The behavior is defined on settings. Anyway user refresh tokens are revoked.</p> <p>User must be verified and confirm password.</p> </blockquote> <h2 id=passwordchangemixin>PasswordChangeMixin<a class=headerlink href=#passwordchangemixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>PasswordChangeMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Change account password when user knows the old password.</p> <p>A new token and refresh token are sent. User must be verified.</p> </blockquote> <h2 id=updateaccountmixin>UpdateAccountMixin<a class=headerlink href=#updateaccountmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>UpdateAccountMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <p>Update user model fields, defined on settings.</p> <p>User must be verified.</p> </blockquote> <h2 id=verifytokenmixin>VerifyTokenMixin<a class=headerlink href=#verifytokenmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>VerifyTokenMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <h3 id=checks-if-a-token-is-not-expired-and-correct>Checks if a token is not expired and correct.<a class=headerlink href=#checks-if-a-token-is-not-expired-and-correct title="Permanent link">&para;</a></h3> <p><em>Note that this is not for refresh tokens.</em></p> </blockquote> <h2 id=refreshtokenmixin>RefreshTokenMixin<a class=headerlink href=#refreshtokenmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>RefreshTokenMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <h3 id=refreshtoken-to-generate-a-new-login-token>refreshToken to generate a new login token:<a class=headerlink href=#refreshtoken-to-generate-a-new-login-token title="Permanent link">&para;</a></h3> <p><em>Use this only if <code>JWT_LONG_RUNNING_REFRESH_TOKEN</code> is True</em></p> <p>using the refresh-token you already got during authorization, and obtain a brand-new token (and possibly a new refresh token if you revoked the previous). This is an alternative to log in when your token expired.</p> </blockquote> <h2 id=revoketokenmixin>RevokeTokenMixin<a class=headerlink href=#revoketokenmixin title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>RevokeTokenMixin</span><span class=p>(</span><span class=n>BaseMixin</span><span class=p>)</span>
</code></pre></div> <blockquote> <h3 id=suspends-a-refresh-token>Suspends a refresh token.<a class=headerlink href=#suspends-a-refresh-token title="Permanent link">&para;</a></h3> <p><em>token must exist to be revoked.</em></p> </blockquote> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.annotate", null], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.83f73b43.min.js></script> </body> </html>